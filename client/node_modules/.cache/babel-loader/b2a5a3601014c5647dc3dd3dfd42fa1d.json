{"ast":null,"code":"import _regeneratorRuntime from\"D:/course/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/course/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/course/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useState,useEffect}from'react';import img from\"./Bitmap.svg\";import styles from'./styles.module.css';import{useHttp}from'../../hooks/http.hook';import{useParams}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faArrowUp,faArrowDown}from'@fortawesome/free-solid-svg-icons';import Loader from'../../components/Loader';import FanficCard from'../../components/FanficCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DetailPage=function DetailPage(){var _require=require('../../context/AuthContext'),AuthContext=_require.AuthContext;var _useContext=useContext(AuthContext),token=_useContext.token;var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var fanficId=useParams();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),fanfic=_useState2[0],setFanfic=_useState2[1];var getFanfic=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetched;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"/\",'GET',null,{Authorization:\"Bearer \".concat(token)});case 3:fetched=_context.sent;setFanfic(fetched);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[token,fanficId,request]);useEffect(function(){getFanfic();},[getFanfic]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.profileMain,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.mainContain,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.greeting,children:[/*#__PURE__*/_jsx(\"form\",{className:styles.avatar}),/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:\"Hello, ! We missed you!\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.acticleWrapp,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.article,children:\"Your fanfiction\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowUp,className:styles.articlePic}),/*#__PURE__*/_jsx(\"div\",{className:styles.articleTitle,children:\"up\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowDown,className:styles.articlePic}),/*#__PURE__*/_jsx(\"div\",{className:styles.articleTitle,children:\"down\"})]}),/*#__PURE__*/_jsx(_Fragment,{children:!loading&&fanfic&&/*#__PURE__*/_jsx(FanficCard,{fanfic:fanfic})})]});};export default DetailPage;","map":{"version":3,"sources":["D:/course/client/src/pages/DetailPage/index.js"],"names":["React","useCallback","useContext","useState","useEffect","styles","useHttp","useParams","FontAwesomeIcon","faArrowUp","faArrowDown","Loader","FanficCard","DetailPage","require","AuthContext","token","request","loading","fanficId","fanfic","setFanfic","getFanfic","Authorization","fetched","profileMain","mainContain","greeting","avatar","title","acticleWrapp","article","articlePic","articleTitle"],"mappings":"kZAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,CAA4BC,UAA5B,CAAwCC,QAAxC,CAAkDC,SAAlD,KAAkE,OAAlE,C,8BAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAAQC,OAAR,KAAsB,uBAAtB,CACA,OAAOC,SAAP,KAAuB,kBAAvB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAsC,mCAAtC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,C,6IAIC,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,cACAC,OAAO,CAAC,2BAAD,CADP,CACfC,WADe,UACfA,WADe,iBAENb,UAAU,CAACa,WAAD,CAFJ,CAEfC,KAFe,aAEfA,KAFe,cAIIV,OAAO,EAJX,CAIfW,OAJe,UAIfA,OAJe,CAIPC,OAJO,UAIPA,OAJO,CAKtB,GAAMC,CAAAA,QAAQ,CAAGZ,SAAS,EAA1B,CALsB,cAMMJ,QAAQ,CAAC,IAAD,CANd,wCAMfiB,MANe,eAMPC,SANO,eAStB,GAAMC,CAAAA,SAAS,CAAGrB,WAAW,sEAAE,qLAEFgB,CAAAA,OAAO,KAAM,KAAN,CAAa,IAAb,CAAmB,CAC/CM,aAAa,kBAAYP,KAAZ,CADkC,CAAnB,CAFL,QAElBQ,OAFkB,eAKxBH,SAAS,CAACG,OAAD,CAAT,CALwB,iJAAF,GAS1B,CAACR,KAAD,CAAQG,QAAR,CAAkBF,OAAlB,CAT0B,CAA7B,CAWAb,SAAS,CAAC,UAAM,CACZkB,SAAS,GACZ,CAFQ,CAEN,CAACA,SAAD,CAFM,CAAT,CAIA,GAAIJ,OAAJ,CAAa,CACT,mBAAO,KAAC,MAAD,IAAP,CAEH,CAKD,mBAEJ,aAAK,SAAS,CAAEb,MAAM,CAACoB,WAAvB,wBACK,YAAK,SAAS,CAAEpB,MAAM,CAACqB,WAAvB,uBACI,aAAK,SAAS,CAAErB,MAAM,CAACsB,QAAvB,wBACA,aAAM,SAAS,CAAEtB,MAAM,CAACuB,MAAxB,EADA,cAEL,YAAK,SAAS,CAAEvB,MAAM,CAACwB,KAAvB,qCAFK,GADJ,EADL,cAOK,aAAK,SAAS,CAAExB,MAAM,CAACyB,YAAvB,wBACA,YAAK,SAAS,CAAEzB,MAAM,CAAC0B,OAAvB,6BADA,cAEA,KAAC,eAAD,EAAiB,IAAI,CAAGtB,SAAxB,CAAoC,SAAS,CAAEJ,MAAM,CAAC2B,UAAtD,EAFA,cAGA,YAAK,SAAS,CAAE3B,MAAM,CAAC4B,YAAvB,gBAHA,cAIA,KAAC,eAAD,EAAiB,IAAI,CAAGvB,WAAxB,CAAqC,SAAS,CAAEL,MAAM,CAAC2B,UAAvD,EAJA,cAKA,YAAK,SAAS,CAAE3B,MAAM,CAAC4B,YAAvB,kBALA,GAPL,cAcK,yBACC,CAACf,OAAD,EAAYE,MAAZ,eAAsB,KAAC,UAAD,EAAY,MAAM,CAAEA,MAApB,EADvB,EAdL,GAFI,CAsBF,CAtDD,CAwDD,cAAeP,CAAAA,UAAf","sourcesContent":["import React, {useCallback, useContext, useState, useEffect} from 'react'\r\nimport img from './Bitmap.svg'\r\nimport styles from './styles.module.css'\r\nimport {useHttp} from '../../hooks/http.hook'\r\nimport{useParams} from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowUp, faArrowDown} from '@fortawesome/free-solid-svg-icons';\r\nimport Loader from '../../components/Loader'\r\nimport FanficCard from '../../components/FanficCard'\r\n\r\n\r\n\r\n const DetailPage = () => { \r\n    const {AuthContext} = require('../../context/AuthContext')\r\n    const {token} = useContext(AuthContext)\r\n    \r\n    const {request,loading} = useHttp()\r\n    const fanficId = useParams()\r\n    const [fanfic, setFanfic] = useState(null)\r\n    \r\n\r\n    const getFanfic = useCallback( async() => {\r\n        try {\r\n           const fetched = await request(`/`, 'GET', null, {\r\n            Authorization: `Bearer ${token}`\r\n           })\r\n           setFanfic(fetched)\r\n        } catch (e) {\r\n\r\n        }\r\n    }, [token, fanficId, request])\r\n\r\n    useEffect(() => {\r\n        getFanfic()\r\n    }, [getFanfic])\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n\r\n    }\r\n\r\n\r\n\r\n   \r\n    return (\r\n\r\n<div className={styles.profileMain}>\r\n     <div className={styles.mainContain}>\r\n         <div className={styles.greeting}>\r\n         <form className={styles.avatar}></form>\r\n    <div className={styles.title}>Hello, ! We missed you!</div>             \r\n         </div>\r\n     </div>\r\n     <div className={styles.acticleWrapp}>\r\n     <div className={styles.article}>Your fanfiction</div>\r\n     <FontAwesomeIcon icon= {faArrowUp } className={styles.articlePic} />\r\n     <div className={styles.articleTitle}>up</div>\r\n     <FontAwesomeIcon icon= {faArrowDown} className={styles.articlePic} />\r\n     <div className={styles.articleTitle}>down</div>\r\n     </div>\r\n     <>\r\n     {!loading && fanfic && <FanficCard fanfic={fanfic} />}\r\n     </>\r\n     </div>\r\n\r\n    )\r\n }\r\n\r\nexport default DetailPage"]},"metadata":{},"sourceType":"module"}