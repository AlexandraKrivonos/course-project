{"ast":null,"code":"import _regeneratorRuntime from\"D:/course-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/course-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/course-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useState,useEffect}from'react';import img from\"./Bitmap.svg\";import styles from'./styles.module.css';import{useHttp}from'../../hooks/http.hook';import{useParams}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faArrowUp,faArrowDown}from'@fortawesome/free-solid-svg-icons';import Loader from'../../components/Loader';import FanficCard from'../../components/FanficCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DetailPage=function DetailPage(){var _require=require(\"../../context/AuthContext\"),AuthContext=_require.AuthContext;var auth=useContext(AuthContext);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fanfics=_useState2[0],setFanfics=_useState2[1];var _useHttp=useHttp(),loading=_useHttp.loading,request=_useHttp.request;var fetchFanfics=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetched;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"api/fanfic\",\"GET\",null,{Authorization:\"Bearer \".concat(auth.token)});case 3:fetched=_context.sent;setFanfics(fetched);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[auth.token,request]);useEffect(function(){fetchFanfics();},[fetchFanfics]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.profileMain,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.mainContain,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.greeting,children:[/*#__PURE__*/_jsx(\"form\",{className:styles.avatar}),/*#__PURE__*/_jsxs(\"div\",{className:styles.title,children:[\"Hello, \",fanfics.author,\"! We missed you!\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.acticleWrapp,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.article,children:\"Your fanfiction\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowUp,className:styles.articlePic}),/*#__PURE__*/_jsx(\"div\",{className:styles.articleTitle,children:\"up\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowDown,className:styles.articlePic}),/*#__PURE__*/_jsx(\"div\",{className:styles.articleTitle,children:\"down\"})]}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(FanficCard,{fanfics:fanfics})})]});};export default DetailPage;","map":{"version":3,"sources":["D:/course-project/client/src/pages/DetailPage/index.js"],"names":["React","useCallback","useContext","useState","useEffect","styles","useHttp","useParams","FontAwesomeIcon","faArrowUp","faArrowDown","Loader","FanficCard","DetailPage","require","AuthContext","auth","fanfics","setFanfics","loading","request","fetchFanfics","Authorization","token","fetched","profileMain","mainContain","greeting","avatar","title","author","acticleWrapp","article","articlePic","articleTitle"],"mappings":"0aAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,CAA4BC,UAA5B,CAAwCC,QAAxC,CAAkDC,SAAlD,KAAkE,OAAlE,C,8BAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAAQC,OAAR,KAAsB,uBAAtB,CACA,OAAOC,SAAP,KAAuB,kBAAvB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAsC,mCAAtC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,C,6IAIC,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,cACEC,OAAO,CAAC,2BAAD,CADT,CACdC,WADc,UACdA,WADc,CAEtB,GAAMC,CAAAA,IAAI,CAAGd,UAAU,CAACa,WAAD,CAAvB,CAFsB,cAGQZ,QAAQ,CAAC,EAAD,CAHhB,wCAGfc,OAHe,eAGNC,UAHM,4BAIOZ,OAAO,EAJd,CAIda,OAJc,UAIdA,OAJc,CAILC,OAJK,UAILA,OAJK,CAMtB,GAAMC,CAAAA,YAAY,CAAGpB,WAAW,sEAAC,qLAEPmB,CAAAA,OAAO,CAAC,YAAD,CAAe,KAAf,CAAsB,IAAtB,CAA4B,CACvDE,aAAa,kBAAYN,IAAI,CAACO,KAAjB,CAD0C,CAA5B,CAFA,QAEvBC,OAFuB,eAK7BN,UAAU,CAACM,OAAD,CAAV,CAL6B,iJAAD,GAO7B,CAACR,IAAI,CAACO,KAAN,CAAaH,OAAb,CAP6B,CAAhC,CASAhB,SAAS,CAAC,UAAM,CACdiB,YAAY,GACb,CAFQ,CAEN,CAACA,YAAD,CAFM,CAAT,CAIA,GAAIF,OAAJ,CAAa,CACX,mBAAO,KAAC,MAAD,IAAP,CACD,CAED,mBAEJ,aAAK,SAAS,CAAEd,MAAM,CAACoB,WAAvB,wBACK,YAAK,SAAS,CAAEpB,MAAM,CAACqB,WAAvB,uBACI,aAAK,SAAS,CAAErB,MAAM,CAACsB,QAAvB,wBACA,aAAM,SAAS,CAAEtB,MAAM,CAACuB,MAAxB,EADA,cAEL,aAAK,SAAS,CAAEvB,MAAM,CAACwB,KAAvB,qBAAsCZ,OAAO,CAACa,MAA9C,sBAFK,GADJ,EADL,cAOK,aAAK,SAAS,CAAEzB,MAAM,CAAC0B,YAAvB,wBACA,YAAK,SAAS,CAAE1B,MAAM,CAAC2B,OAAvB,6BADA,cAEA,KAAC,eAAD,EAAiB,IAAI,CAAGvB,SAAxB,CAAoC,SAAS,CAAEJ,MAAM,CAAC4B,UAAtD,EAFA,cAGA,YAAK,SAAS,CAAE5B,MAAM,CAAC6B,YAAvB,gBAHA,cAIA,KAAC,eAAD,EAAiB,IAAI,CAAGxB,WAAxB,CAAqC,SAAS,CAAEL,MAAM,CAAC4B,UAAvD,EAJA,cAKA,YAAK,SAAS,CAAE5B,MAAM,CAAC6B,YAAvB,kBALA,GAPL,cAcK,sCACC,KAAC,UAAD,EAAY,OAAO,CAAEjB,OAArB,EADD,EAdL,GAFI,CAsBF,CA7CD,CA+CD,cAAeJ,CAAAA,UAAf","sourcesContent":["import React, {useCallback, useContext, useState, useEffect} from 'react'\r\nimport img from './Bitmap.svg'\r\nimport styles from './styles.module.css'\r\nimport {useHttp} from '../../hooks/http.hook'\r\nimport{useParams} from 'react-router-dom'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowUp, faArrowDown} from '@fortawesome/free-solid-svg-icons';\r\nimport Loader from '../../components/Loader'\r\nimport FanficCard from '../../components/FanficCard'\r\n\r\n\r\n\r\n const DetailPage = () => { \r\n    const { AuthContext } = require(\"../../context/AuthContext\");\r\n    const auth = useContext(AuthContext);\r\n    const [fanfics, setFanfics] = useState([]);\r\n    const { loading, request } = useHttp();\r\n  \r\n    const fetchFanfics = useCallback(async () => {\r\n      try {\r\n        const fetched = await request(\"api/fanfic\", \"GET\", null, {\r\n          Authorization: `Bearer ${auth.token}`,\r\n        });\r\n        setFanfics(fetched);\r\n      } catch (e) {}\r\n    }, [auth.token, request]);\r\n  \r\n    useEffect(() => {\r\n      fetchFanfics();\r\n    }, [fetchFanfics]);\r\n  \r\n    if (loading) {\r\n      return <Loader />;\r\n    }\r\n  \r\n    return (\r\n\r\n<div className={styles.profileMain}>\r\n     <div className={styles.mainContain}>\r\n         <div className={styles.greeting}>\r\n         <form className={styles.avatar}></form>\r\n    <div className={styles.title}>Hello, {fanfics.author}! We missed you!</div>             \r\n         </div>\r\n     </div>\r\n     <div className={styles.acticleWrapp}>\r\n     <div className={styles.article}>Your fanfiction</div>\r\n     <FontAwesomeIcon icon= {faArrowUp } className={styles.articlePic} />\r\n     <div className={styles.articleTitle}>up</div>\r\n     <FontAwesomeIcon icon= {faArrowDown} className={styles.articlePic} />\r\n     <div className={styles.articleTitle}>down</div>\r\n     </div>\r\n     <>\r\n     {<FanficCard fanfics={fanfics} />}\r\n     </>\r\n     </div>\r\n\r\n    )\r\n }\r\n\r\nexport default DetailPage"]},"metadata":{},"sourceType":"module"}