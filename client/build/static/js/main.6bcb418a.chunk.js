(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){e.exports={title:"styles_title__C0MZ5",wrappTitle:"styles_wrappTitle__3m-GB",wrappMain:"styles_wrappMain__3V21M",titleUp:"styles_titleUp__1SrXO",inputColumn:"styles_inputColumn__2Yf-J",labels:"styles_labels__2P4ww",wrappColumn:"styles_wrappColumn__LOFCN",Sign:"styles_Sign__2n_QT",wrappForm:"styles_wrappForm__3AoX9"}},16:function(e,t,a){e.exports={sidebarContainer:"styles_sidebarContainer__2fbpt",wrapper:"styles_wrapper__1P_M8",contentContainer:"styles_contentContainer__34xUi",contentLogo:"styles_contentLogo__3iUcD",sidebarNavigation:"styles_sidebarNavigation__2-LU8",liNav:"styles_liNav__-r1Hq",aNav:"styles_aNav__3xCUt",fa:"styles_fa__MJBQn",header:"styles_header__3vnnE",profile:"styles_profile__1Z2Dg",wrapperHeader:"styles_wrapperHeader__3ksCD",wrappMain:"styles_wrappMain__14zfP",mainContain:"styles_mainContain__2PopQ",greeting:"styles_greeting__2oQ-V",avatar:"styles_avatar__15Unx",title:"styles_title__bjqvi",profileMain:"styles_profileMain__3HTOF",article:"styles_article__34f3i",pic:"styles_pic__3Gkxu",acticleWrapp:"styles_acticleWrapp__1Sc78",articlePic:"styles_articlePic__1uMNx",articleTitle:"styles_articleTitle__1390T"}},18:function(e,t,a){"use strict";a.r(t),a.d(t,"AuthContext",(function(){return c}));var s=a(1);function n(){}var c=Object(s.createContext)({token:null,userId:null,login:n,logout:n,isAuthenticated:!1})},2:function(e,t,a){e.exports={sidebarContainer:"styles_sidebarContainer__34_aA",wrapper:"styles_wrapper__1H7Eh",contentContainer:"styles_contentContainer__10TWR",contentLogo:"styles_contentLogo__1O5S8",sidebarNavigation:"styles_sidebarNavigation__3y0FT",liNav:"styles_liNav__2BLY1",aNav:"styles_aNav__2jYqE",fa:"styles_fa__G0MI6",header:"styles_header__2NO-z",profile:"styles_profile__Js84L",wrapperHeader:"styles_wrapperHeader__2mFkx",wrappMain:"styles_wrappMain__UqS3y",fanf:"styles_fanf__CAvF4",start:"styles_start__2-alS",fanfic:"styles_fanfic__1CTw1",modal:"styles_modal__JGFNY",mainWrappForm:"styles_mainWrappForm__3Gxht",wrappButtons:"styles_wrappButtons__2w4OT",wrappForm:"styles_wrappForm__pVvdv",inputColumn:"styles_inputColumn__2qqde",create:"styles_create__1kz6O",close:"styles_close__2mzUx",inputDescription:"styles_inputDescription__bXI3i",flexButton:"styles_flexButton__3anLS"}},23:function(e,t,a){e.exports={loadingPlaceholder:"styles_loadingPlaceholder__3-9g7",wrapperCenter:"styles_wrapperCenter__2uHRy",button:"styles_button__5IAMI",title:"styles_title__Lcrxq"}},42:function(e,t,a){},53:function(e,t,a){e.exports={wrapper:"styles_wrapper__1_aeI",form:"styles_form__1Xquh",test:"styles_test__1yRql"}},63:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(29),r=a.n(c),l=(a(42),a(43),a(17)),i=a(4),o=a(9),j=a.n(o),p=a.p+"static/media/Bitmap.f6bcefe7.svg",b=a.p+"static/media/Image.8dc52776.svg",u=a(0),d=function(){return Object(u.jsxs)("div",{className:"MyContainer",children:[Object(u.jsx)("header",{children:Object(u.jsx)("div",{className:j.a.myWrapp,children:Object(u.jsxs)("div",{className:j.a.navWrapp,children:[Object(u.jsxs)("div",{className:j.a.wrappTitle,children:[Object(u.jsx)("img",{src:p}),Object(u.jsx)("a",{href:"#",className:j.a.title,children:"MORDOR"})]}),Object(u.jsx)("div",{className:j.a.butt,children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("button",{className:j.a.Sigh,children:Object(u.jsx)(l.b,{to:"/create",children:"Sign up"})}),Object(u.jsx)("button",{className:j.a.Log,children:Object(u.jsx)(l.b,{to:"/login",className:j.a.black,children:"Log in"})})]})})]})})}),Object(u.jsxs)("div",{className:j.a.wrappMain,children:[Object(u.jsxs)("div",{className:j.a.wrappSubTitle,children:[Object(u.jsxs)("h2",{className:j.a.subtitle,children:[" The Best Platform ",Object(u.jsx)("br",{})," for your imagination "]}),Object(u.jsxs)("h3",{className:j.a.discr,children:["Fandoms, popular authors, your favorite genres,",Object(u.jsx)("br",{})," the ability to upload your work and get feedback!",Object(u.jsx)("br",{}),"The most intuitive way to imagine your next user experience."]}),Object(u.jsx)("a",{href:"/detail",children:Object(u.jsx)("button",{className:j.a.start,children:"Get started"})})]}),Object(u.jsx)("img",{src:b})]})]})},_=a(6),m=a.n(_),O=a(14),h=a(19),x=a(11),f=a(7),v=a(8),N=a.n(v),g=a.p+"static/media/Bitmap.f6bcefe7.svg",y=(a.p,function(){var e=Object(s.useState)(!1),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(f.a)(c,2),l=r[0],i=r[1];return{loading:a,request:Object(s.useCallback)(function(){var e=Object(O.a)(m.a.mark((function e(t){var a,s,c,r,l,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",s=o.length>2&&void 0!==o[2]?o[2]:null,c=o.length>3&&void 0!==o[3]?o[3]:{},n(!0),e.prev=4,s&&(s=JSON.stringify(s),c["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:s,headers:c});case 8:return r=e.sent,e.next=11,r.json();case 11:if(l=e.sent,r.ok){e.next=14;break}throw new Error(l.message||"Something went wrong");case 14:return n(!1),e.abrupt("return",l);case 18:throw e.prev=18,e.t0=e.catch(4),n(!1),i(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:l,clearError:function(){return i(null)}}}),w=function(){var e=y(),t=e.loading,a=e.request,n=Object(s.useState)({name:"",email:"",password:""}),c=Object(f.a)(n,2),r=c[0],l=c[1],i=function(e){l(Object(x.a)(Object(x.a)({},r),{},Object(h.a)({},e.target.name,e.target.value)))},o=function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/api/auth/register","POST",Object(x.a)({},r));case 3:t=e.sent,console.log("Data",t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"wrapp",children:[Object(u.jsx)("header",{children:Object(u.jsxs)("div",{className:N.a.wrappTitle,children:[Object(u.jsx)("img",{src:g}),Object(u.jsx)("a",{href:"/",className:N.a.title,children:"MORDOR"})]})}),Object(u.jsx)("div",{className:N.a.wrappMain,children:Object(u.jsxs)("form",{className:N.a.wrappColumn,children:[Object(u.jsx)("h2",{className:N.a.titleUp,children:"Sign up"}),Object(u.jsxs)("div",{className:N.a.wrappForm,children:[Object(u.jsx)("label",{className:N.a.labels,children:"Name*"}),Object(u.jsx)("input",{type:"text",name:"name",className:N.a.inputColumn,onChange:i,value:r.name})]}),Object(u.jsxs)("div",{className:N.a.wrappForm,children:[Object(u.jsx)("label",{className:N.a.labels,children:"Email*"}),Object(u.jsx)("input",{type:"email",name:"email",className:N.a.inputColumn,onChange:i,value:r.email})]}),Object(u.jsxs)("div",{className:N.a.wrappForm,children:[Object(u.jsx)("label",{className:N.a.labels,children:"Password*"}),Object(u.jsx)("input",{type:"text",name:"password",className:N.a.inputColumn,onChange:i,value:r.password})]}),Object(u.jsx)("button",{className:N.a.Sign,onClick:o,disabled:t,children:"Sign up"})]})})]})},C=(a.p,a(16)),k=a.n(C),S=a(20),F=a(21),T=a.p+"static/media/spinner.7ca52138.svg",M=a(23),D=a.n(M),P=function(){return Object(u.jsx)("div",{className:D.a.loadingPlaceholder,children:Object(u.jsx)("img",{src:T,alt:"Loading..."})})},I=function(e){var t=e.fanfics;return Object(u.jsx)("div",{className:"form",children:t.map((function(e){return Object(u.jsxs)("div",{className:D.a.wrapperCenter,children:[Object(u.jsx)("h2",{className:D.a.title,children:e.title}),Object(u.jsxs)("div",{className:D.a.genre,children:["Genre: ",e.genre]}),Object(u.jsxs)("div",{className:"auther",children:["Author: ",e.authorName]}),Object(u.jsxs)("div",{className:"shortDescription",children:["Description: ",e.shortDescription]}),Object(u.jsx)("button",{type:"button",className:D.a.button,children:"Open"})]})}))})},L=function(){var e=a(18).AuthContext,t=Object(s.useContext)(e),n=Object(s.useState)([]),c=Object(f.a)(n,2),r=c[0],l=c[1],i=y(),o=i.loading,j=i.request,p=Object(s.useCallback)(Object(O.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("api/fanfic","GET",null,{Authorization:"Bearer ".concat(t.token)});case 3:a=e.sent,l(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t.token,j]);return Object(s.useEffect)((function(){p()}),[p]),o?Object(u.jsx)(P,{}):Object(u.jsxs)("div",{className:k.a.profileMain,children:[Object(u.jsx)("div",{className:k.a.mainContain,children:Object(u.jsxs)("div",{className:k.a.greeting,children:[Object(u.jsx)("form",{className:k.a.avatar}),Object(u.jsxs)("div",{className:k.a.title,children:["Hello, ",r.author,"! We missed you!"]})]})}),Object(u.jsxs)("div",{className:k.a.acticleWrapp,children:[Object(u.jsx)("div",{className:k.a.article,children:"Your fanfiction"}),Object(u.jsx)(S.a,{icon:F.b,className:k.a.articlePic}),Object(u.jsx)("div",{className:k.a.articleTitle,children:"up"}),Object(u.jsx)(S.a,{icon:F.a,className:k.a.articlePic}),Object(u.jsx)("div",{className:k.a.articleTitle,children:"down"})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(I,{fanfics:r})})]})},B=(a(53),function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=y(),r=c.loading,l=c.request,i=Object(s.useCallback)(Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("api/fanfic/all","GET",null);case 3:t=e.sent,n(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[l]);return Object(s.useEffect)((function(){i()}),[i]),r?Object(u.jsx)(P,{}):Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsx)(I,{fanfics:a})})}),E=a(13),q=a.n(E),A=a.p+"static/media/Bitmap.f6bcefe7.svg",R=a(18),U=function(){var e=Object(s.useContext)(R.AuthContext),t=y(),a=t.loading,n=(t.error,t.request),c=Object(s.useState)({email:"",password:""}),r=Object(f.a)(c,2),i=r[0],o=r[1],j=function(e){o(Object(x.a)(Object(x.a)({},i),{},Object(h.a)({},e.target.name,e.target.value)))},p=function(){var t=Object(O.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("api/auth/login","POST",Object(x.a)({},i));case 3:a=t.sent,e.login(a.token,a.userId),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"wrapp",children:[Object(u.jsx)("header",{children:Object(u.jsxs)("div",{className:q.a.wrappTitle,children:[Object(u.jsx)("img",{src:A}),Object(u.jsx)("a",{href:"/",className:q.a.title,children:"MORDOR"})]})}),Object(u.jsx)("div",{className:q.a.wrappMain,children:Object(u.jsxs)("form",{className:q.a.wrappColumn,children:[Object(u.jsx)("h2",{className:q.a.titleUp,children:"Log in"}),Object(u.jsxs)("div",{className:q.a.wrappForm,children:[Object(u.jsx)("label",{className:q.a.labels,children:"Email*"}),Object(u.jsx)("input",{type:"email",name:"email",className:q.a.inputColumn,onChange:j})]}),Object(u.jsxs)("div",{className:q.a.wrappForm,children:[Object(u.jsx)("label",{className:q.a.labels,children:"Password*"}),Object(u.jsx)("input",{type:"text",name:"password",className:q.a.inputColumn,onChange:j})]}),Object(u.jsxs)("button",{className:q.a.Sign,disabled:a,onClick:p,children:[" ",Object(u.jsx)(l.b,{to:"/profile",children:" Log in"})]})]})})]})},W=a.p+"static/media/Bitmap.f6bcefe7.svg",G=a(2),H=a.n(G),J=function(e){var t=e.children,a=Object(i.g)(),n=Object(s.useContext)(R.AuthContext),c=!1,r=!1,l=!1,o=window.location.href;return o.includes("detail")&&(c=!0),o.includes("profile")&&(r=!0),o.includes("setting")&&(l=!0),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:H.a.sidebarContainer,children:[Object(u.jsx)("div",{className:H.a.contentContainer,children:Object(u.jsxs)("div",{className:H.a.wrapper,children:[Object(u.jsx)("img",{src:W}),Object(u.jsx)("a",{href:"/",className:H.a.contentLogo,children:"MORDOR"})]})}),Object(u.jsx)("div",{className:H.a.wrappMain,children:Object(u.jsxs)("ul",{className:H.a.sidebarNavigation,children:[Object(u.jsx)("li",{className:H.a.liNav,children:Object(u.jsxs)("a",{href:"/detail",className:c?H.a.profile:H.a.aNav,children:[Object(u.jsx)(S.a,{icon:F.d,className:H.a.pic}),"Homepage"]})}),Object(u.jsx)("li",{className:H.a.liNav,children:Object(u.jsxs)("a",{href:"/profile",className:r?H.a.profile:H.a.aNav,children:[Object(u.jsx)(S.a,{icon:F.c,className:H.a.pic}),"Fanfiction"]})}),Object(u.jsx)("li",{className:H.a.liNav,children:Object(u.jsxs)("a",{href:"#",className:l?H.a.profile:H.a.aNav,children:[Object(u.jsx)(S.a,{icon:F.f,className:H.a.pic}),"Settings"]})}),Object(u.jsx)("li",{className:H.a.liNav,children:Object(u.jsxs)("a",{href:"/",className:H.a.aNav,onClick:function(e){e.preventDefault(),n.logout(),a.push("/")},children:[Object(u.jsx)(S.a,{icon:F.e,className:H.a.pic}),"Exit"]})})]})})]}),t]})},z=a(37),Q=a.n(z),Y=a(18).AuthContext,K={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},V=function(){Object(i.g)();var e,t=Object(s.useContext)(Y),a=y().request,c=n.a.useState(!1),r=Object(f.a)(c,2),l=r[0],o=r[1];function j(){o(!1)}var p=Object(s.useState)({title:"",genre:"detectives",shortDescription:""}),b=Object(f.a)(p,2),d=b[0],_=b[1],v=function(e){_(Object(x.a)(Object(x.a)({},d),{},Object(h.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/api/fanfic/generate","POST",Object(x.a)(Object(x.a)({},d),{},{userId:JSON.parse(localStorage.getItem("userData")).userId}),{Authorization:"Bearer ".concat(t.token)});case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:H.a.flexButton,children:[Object(u.jsx)("button",{className:H.a.start,onClick:function(){o(!0)},children:"Create fanfic"}),Object(u.jsxs)(Q.a,{isOpen:l,onAfterOpen:function(){e.style.color=" #2F281E"},onRequestClose:j,style:K,className:H.a.modal,contentLabel:"Example Modal",children:[Object(u.jsxs)("div",{className:H.a.mainWrappForm,children:[Object(u.jsx)("h2",{ref:function(t){return e=t},className:H.a.fanfic,children:"New Fanfic"}),Object(u.jsxs)("div",{className:H.a.wrappForm,children:[Object(u.jsx)("label",{className:H.a.labels,children:"Name of the fanfic*"}),Object(u.jsx)("input",{type:"text",name:"title",className:H.a.inputColumn,onChange:v})]}),Object(u.jsxs)("div",{className:H.a.wrappForm,children:[Object(u.jsx)("label",{className:H.a.labels,children:" Genres*"}),Object(u.jsxs)("select",{name:"genre",id:"genre",className:H.a.labels,onChange:v,children:[Object(u.jsx)("option",{value:"detectives",children:"Detectives"}),Object(u.jsx)("option",{value:"comics and manga",children:"Comics and manga"}),Object(u.jsx)("option",{value:"romance",children:"Romance"}),Object(u.jsx)("option",{value:"poetry",children:"Poetry"}),Object(u.jsx)("option",{value:"thrillers",children:"Thrillers"}),Object(u.jsx)("option",{value:"adventures",children:"Adventures"}),Object(u.jsx)("option",{value:"prose",children:"Prose"}),Object(u.jsx)("option",{value:"horror",children:"Horror"})]})]}),Object(u.jsxs)("div",{className:H.a.wrappForm,children:[Object(u.jsx)("label",{children:"Short description*"}),Object(u.jsx)("input",{type:"text",name:"shortDescription",className:H.a.inputDescription,onChange:v})]})]}),Object(u.jsxs)("div",{className:H.a.wrappButtons,children:[Object(u.jsx)("button",{onClick:j,className:H.a.close,children:"Close"}),Object(u.jsxs)("button",{className:H.a.create,onClick:N,children:[" ","Create"]})]})]})]})},X="userData";var Z=function(){var e=function(){var e=Object(s.useState)(null),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(f.a)(c,2),l=r[0],i=r[1],o=Object(s.useCallback)((function(e,t){n(e),i(t),localStorage.setItem(X,JSON.stringify({userId:t,token:e}))}),[]),j=Object(s.useCallback)((function(){n(null),i(null),localStorage.removeItem(X)}),[]);return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem(X));e&&e.token&&o(e.token,e.userId)}),[o]),{login:o,logout:j,token:a,userId:l}}(),t=e.token,a=e.login,n=e.logout,c=e.userId,r=!!t,o=r?Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",exact:!0,children:Object(u.jsx)(d,{})}),Object(u.jsx)(i.b,{exact:!0,path:["/profile","/detail"],children:Object(u.jsxs)(J,{children:[Object(u.jsxs)(i.b,{path:"/profile",exact:!0,children:[Object(u.jsx)(V,{}),Object(u.jsx)(B,{})]}),Object(u.jsx)(i.b,{path:"/detail",exact:!0,children:Object(u.jsx)(L,{})})]})}),Object(u.jsx)(i.a,{to:"/detail"})]}):Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",exact:!0,children:Object(u.jsx)(d,{})}),Object(u.jsx)(i.b,{path:"/detail",exact:!0,children:Object(u.jsx)(B,{})}),Object(u.jsx)(i.b,{path:"/create",children:Object(u.jsx)(w,{})}),Object(u.jsx)(i.b,{path:"/login",children:Object(u.jsx)(U,{})})]});return Object(u.jsx)(R.AuthContext.Provider,{value:{token:t,login:a,logout:n,userId:c,isAuthenticated:r},children:Object(u.jsx)(l.a,{children:Object(u.jsx)("div",{className:"container",children:o})})})},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(Z,{})}),document.getElementById("root")),$()},8:function(e,t,a){e.exports={title:"styles_title__1s51V",wrappTitle:"styles_wrappTitle__2rHK7",wrappMain:"styles_wrappMain__2zsRQ",titleUp:"styles_titleUp__1EfTK",inputColumn:"styles_inputColumn__2gxkv",labels:"styles_labels__2lNgD",wrappColumn:"styles_wrappColumn__1lpLb",Sign:"styles_Sign__20BIF",wrappForm:"styles_wrappForm__Plcxo"}},9:function(e,t,a){e.exports={myWrapp:"styles_myWrapp__2fKYo",title:"styles_title__3Bnnx",navWrapp:"styles_navWrapp__3_FF-",wrappTitle:"styles_wrappTitle__n0nQ8",Sigh:"styles_Sigh__ZT1-T",Log:"styles_Log__1NUIj",butt:"styles_butt__2RaDB",wrappMain:"styles_wrappMain__2K5ZF",rappSubTitle:"styles_rappSubTitle__12Dnf",subtitle:"styles_subtitle__3FW3U",discr:"styles_discr__1GlPt",start:"styles_start__3uwuj",black:"styles_black__3Frq3"}}},[[63,1,2]]]);
//# sourceMappingURL=main.6bcb418a.chunk.js.map