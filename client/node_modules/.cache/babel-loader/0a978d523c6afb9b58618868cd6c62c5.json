{"ast":null,"code":"import _regeneratorRuntime from\"D:/course-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/course-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/course-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useCallback,useEffect}from\"react\";import{useHttp}from\"../../hooks/http.hook\";import Loader from\"../../components/Loader\";import FanficCard from\"../../components/FanficCard\";import styles from\"./styles.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProfilePage=function ProfilePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fanfics=_useState2[0],setFanfics=_useState2[1];var _useHttp=useHttp(),loading=_useHttp.loading,request=_useHttp.request;var fetchFanfics=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetched;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"api/fanfic/all\",\"GET\",null);case 3:fetched=_context.sent;setFanfics(fetched);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[request]);useEffect(function(){fetchFanfics();},[fetchFanfics]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsx(FanficCard,{fanfics:fanfics})});};export default ProfilePage;","map":{"version":3,"sources":["D:/course-project/client/src/pages/ProfilePage/index.js"],"names":["React","useState","useContext","useCallback","useEffect","useHttp","Loader","FanficCard","styles","ProfilePage","fanfics","setFanfics","loading","request","fetchFanfics","fetched"],"mappings":"0aAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,WAAtC,CAAmDC,SAAnD,KAAoE,OAApE,CACA,OAASC,OAAT,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,C,2CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eAGMR,QAAQ,CAAC,EAAD,CAHd,wCAGjBS,OAHiB,eAGRC,UAHQ,4BAIKN,OAAO,EAJZ,CAIhBO,OAJgB,UAIhBA,OAJgB,CAIPC,OAJO,UAIPA,OAJO,CAMxB,GAAMC,CAAAA,YAAY,CAAGX,WAAW,sEAAC,qLAEPU,CAAAA,OAAO,CAAC,gBAAD,CAAmB,KAAnB,CAA0B,IAA1B,CAFA,QAEvBE,OAFuB,eAG7BJ,UAAU,CAACI,OAAD,CAAV,CAH6B,iJAAD,GAK7B,CAACF,OAAD,CAL6B,CAAhC,CAOAT,SAAS,CAAC,UAAM,CACdU,YAAY,GACb,CAFQ,CAEN,CAACA,YAAD,CAFM,CAAT,CAIA,GAAIF,OAAJ,CAAa,CACX,mBAAO,KAAC,MAAD,IAAP,CACD,CAED,mBACE,YAAK,SAAS,CAAC,SAAf,uBACG,KAAC,UAAD,EAAY,OAAO,CAAEF,OAArB,EADH,EADF,CAKD,CA1BD,CA4BA,cAAeD,CAAAA,WAAf","sourcesContent":["import React, { useState, useContext, useCallback, useEffect } from \"react\";\r\nimport { useHttp } from \"../../hooks/http.hook\";\r\nimport Loader from \"../../components/Loader\";\r\nimport FanficCard from \"../../components/FanficCard\";\r\n\r\nimport styles from \"./styles.module.css\";\r\n\r\nconst ProfilePage = () => {\r\n\r\n  \r\n  const [fanfics, setFanfics] = useState([]);\r\n  const { loading, request } = useHttp();\r\n\r\n  const fetchFanfics = useCallback(async () => {\r\n    try {\r\n      const fetched = await request(\"api/fanfic/all\", \"GET\", null)\r\n      setFanfics(fetched)\r\n    } catch (e) {}\r\n  }, [request]);\r\n\r\n  useEffect(() => {\r\n    fetchFanfics();\r\n  }, [fetchFanfics]);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      {<FanficCard fanfics={fanfics} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"]},"metadata":{},"sourceType":"module"}