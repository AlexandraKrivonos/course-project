{"ast":null,"code":"var _jsxFileName = \"D:\\\\course-project\\\\client\\\\src\\\\pages\\\\ProfilePage\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useCallback, useEffect } from \"react\";\nimport { useHttp } from \"../../hooks/http.hook\";\nimport Loader from \"../../components/Loader\";\nimport FanficCard from \"../../components/FanficCard\";\nimport styles from \"./styles.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfilePage = () => {\n  _s();\n\n  const {\n    AuthContext\n  } = require(\"../context/AuthContext\");\n\n  const token = JSON.parse(localStorage.getItem(\"userData\")).token;\n  const [fanfics, setFanfics] = useState([]);\n  const {\n    loading,\n    request\n  } = useHttp();\n  const fetchFanfics = useCallback(async () => {\n    try {\n      const fetched = await request(\"api/fanfic\", \"GET\", null, {\n        Authorization: `Bearer ${token}`\n      });\n      setFanfics(fetched);\n    } catch (e) {}\n  }, [token, request]);\n  useEffect(() => {\n    fetchFanfics();\n  }, [fetchFanfics]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(FanficCard, {\n      fanfics: fanfics\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfilePage, \"8LCKgdPQtshRZjzyppdk3+WCoRs=\", false, function () {\n  return [useHttp];\n});\n\n_c = ProfilePage;\nexport default ProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"sources":["D:/course-project/client/src/pages/ProfilePage/index.js"],"names":["React","useState","useContext","useCallback","useEffect","useHttp","Loader","FanficCard","styles","ProfilePage","AuthContext","require","token","JSON","parse","localStorage","getItem","fanfics","setFanfics","loading","request","fetchFanfics","fetched","Authorization","e"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,WAAtC,EAAmDC,SAAnD,QAAoE,OAApE;AACA,SAASC,OAAT,QAAwB,uBAAxB;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM;AAAEC,IAAAA;AAAF,MAAkBC,OAAO,CAAC,wBAAD,CAA/B;;AACA,QAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,EAA6CJ,KAA3D;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM;AAAEkB,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAuBf,OAAO,EAApC;AAEA,QAAMgB,YAAY,GAAGlB,WAAW,CAAC,YAAY;AAC3C,QAAI;AACF,YAAMmB,OAAO,GAAG,MAAMF,OAAO,CAAC,YAAD,EAAe,KAAf,EAAsB,IAAtB,EAA4B;AACvDG,QAAAA,aAAa,EAAG,UAASX,KAAM;AADwB,OAA5B,CAA7B;AAGAM,MAAAA,UAAU,CAACI,OAAD,CAAV;AACD,KALD,CAKE,OAAOE,CAAP,EAAU,CAAE;AACf,GAP+B,EAO7B,CAACZ,KAAD,EAAQQ,OAAR,CAP6B,CAAhC;AASAhB,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,YAAY;AACb,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;;AAIA,MAAIF,OAAJ,EAAa;AACX,wBAAO,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,2BACG,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEF;AAArB;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CA5BD;;GAAMR,W;UAIyBJ,O;;;KAJzBI,W;AA8BN,eAAeA,WAAf","sourcesContent":["import React, { useState, useContext, useCallback, useEffect } from \"react\";\r\nimport { useHttp } from \"../../hooks/http.hook\";\r\n\r\nimport Loader from \"../../components/Loader\";\r\nimport FanficCard from \"../../components/FanficCard\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nconst ProfilePage = () => {\r\n  const { AuthContext } = require(\"../context/AuthContext\");\r\n  const token = JSON.parse(localStorage.getItem(\"userData\")).token;\r\n  const [fanfics, setFanfics] = useState([]);\r\n  const { loading, request } = useHttp();\r\n\r\n  const fetchFanfics = useCallback(async () => {\r\n    try {\r\n      const fetched = await request(\"api/fanfic\", \"GET\", null, {\r\n        Authorization: `Bearer ${token}`,\r\n      });\r\n      setFanfics(fetched);\r\n    } catch (e) {}\r\n  }, [token, request]);\r\n\r\n  useEffect(() => {\r\n    fetchFanfics();\r\n  }, [fetchFanfics]);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      {<FanficCard fanfics={fanfics} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"]},"metadata":{},"sourceType":"module"}